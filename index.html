<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grand Archive TCG 卡牌展示器</title>
    <style>
        body { font-family: sans-serif; display: flex; flex-direction: column; align-items: center; padding: 20px; background-color: #f4f4f9; }
       .controls { margin-bottom: 20px; }
        input { padding: 8px; width: 250px; border: 1px solid #ccc; border-radius: 4px; }
        button { padding: 8px 15px; cursor: pointer; background-color: #007bff; color: white; border: none; border-radius: 4px; }
        button:hover { background-color: #0056b3; }
        #card-container { margin-top: 20px; min-height: 400px; }
        img { max-width: 350px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.2); transition: opacity 0.3s; }
       .error { color: red; margin-top: 10px; }
       .loading { color: #666; }
    </style>
</head>
<body>

    <h1>卡牌图像展示</h1>
    
    <div class="controls">
        <input type="text" id="card-slug" placeholder="输入卡牌 Slug (如: crescent-glaive)" value="crescent-glaive">
        <button onclick="fetchAndShowCard()">展示图片</button>
    </div>

    <div id="card-container">
        </div>

    <script>
        async function fetchAndShowCard() {
            const slug = document.getElementById('card-slug').value.trim();
            const container = document.getElementById('card-container');
            
            if (!slug) return;

            container.innerHTML = '<p class="loading">正在检索元数据...</p>';

            try {
                // 1. 获取卡牌元数据 [1, 2]
                const metaResponse = await fetch(`https://api.gatcg.com/cards/${slug}`);
                
                if (!metaResponse.ok) {
                    throw new Error('未找到该卡牌，请检查 Slug 是否正确');
                }

                const cardData = await metaResponse.json();
                
                // 2. 提取第一个版本的图像文件名 [2]
                // 优先从 editions 数组获取
                const editions = cardData.editions || cardData.result_editions;
                if (!editions || editions.length === 0) {
                    throw new Error('该卡牌没有任何版本数据');
                }
                
                const filename = editions.image;
                
                // 3. 构建完整的图像 URL，并开启圆角参数 [[1]
